kc_LQPlot <- plot(kcTract, col=colours[findInterval(kc_LQ$kc_LQ, brks, all.inside=TRUE)], axes=F)
box()
title(paste("LQ of King County's Number of jobs of workers <= 29yrs vs Total Jobs"))
legend("topright", legend=leglabs(brks), fill=colours, bty="n", border = "black", lty, lwd)
kc_LQPlot <- plot(kcTract, col=colours[findInterval(kc_LQ$kc_LQ, brks, all.inside=TRUE)], axes=F)
box()
title(paste("LQ of King County's Number of jobs of workers <= 29yrs vs Total Jobs"))
legend("topright", legend=leglabs(brks), fill=colours, bty="n", border = "black")
kc_LQ <- data.frame(OD$wt, LQ(SA01, S000))
colnames(kc_LQ) <- c("wt", "ht", "kc_LQ")
brks<-c(0.5,1,1.5,2,2.5,3,3.5,4,4.5,5)
colnames(kc_LQ) <- c("wt", "kc_LQ")
brks<-c(0.5,1,1.5,2,2.5,3,3.5,4,4.5,5)
colours <- brewer.pal(10, "Blues")
kc_LQPlot <- plot(kcTract, col=colours[findInterval(kc_LQ$kc_LQ, brks, all.inside=TRUE)], axes=F)
box()
title(paste("LQ of King County's Number of jobs of workers <= 29yrs vs Total Jobs"))
kc_LQPlot <- plot(kcTract, col=colours[findInterval(kc_LQ$kc_LQ, brks, all.inside=TRUE)], axes=F)
box()
title(paste("LQ of King County's Number of jobs of workers <= 29yrs vs Total Jobs"))
legend("topright", legend=leglabs(brks), fill=colours, bty="n", border = "black", title = "Percent ")
kc_LQ <- data.frame(OD$wt, LQ(SA01, S000) * 100)
kc_LQ <- data.frame(OD$wt, LQ(SA01, S000))
colnames(kc_LQ) <- c("wt", "kc_LQ")
colours <- brewer.pal(10, "Blues")
kc_LQPlot <- plot(kcTract, col=colours[findInterval(kc_LQ$kc_LQ, brks, all.inside=TRUE)], axes=F)
box()
kc_LQ <- data.frame(OD$wt, LQ(SA01, S000))
colnames(kc_LQ) <- c("wt", "kc_LQ")
brks<-c(0.5,1,1.5,2,2.5,3,3.5,4,4.5,5)
colours <- brewer.pal(10, "Blues")
kc_LQPlot <- plot(kcTract, col=colours[findInterval(kc_LQ$kc_LQ, brks, all.inside=TRUE)], axes=F)
box()
title(paste("LQ of King County's Number of jobs of workers <= 29yrs vs Total Jobs"))
legend("topright", legend=leglabs(brks), fill=colours, bty="n", border = "black", title = "Percent ")
kc_LQPlot <- plot(kcTract, col=colours[findInterval(kc_LQ$kc_LQ, brks, all.inside=TRUE)], axes=F)
box()
title(paste("LQ of SA01 and S000"))
legend("topright", legend=leglabs(brks), fill=colours, bty="n", border = "black", title = "Percent of workers <= 29")
paste("SA01 is number of workers less than 29yrs, and S000 is the total number of workers")
kc_LQPlot <- plot(kcTract, col=colours[findInterval(kc_LQ$kc_LQ, brks, all.inside=TRUE)], axes=F)
box()
title(paste("LQ of SA01 and S000"))
legend("topright", legend=leglabs(brks), fill=colours, bty="n", border = "black", title = "Percent of workers <= 29") + paste("SA01 is number of workers less than 29yrs, and S000 is the total number of workers")
##Calculate Location Quotients (Links to an external site.)Links to an external site. for all of your data, and then “zoom in” to look at the location quotients for the subset of tracts selected from your OD data.
library(maptools)
library(RColorBrewer)
library(tmap)
kcTract<- readShapeSpatial('C:/Users/LXB19/Documents/GEOG458/Lab2/kc_shp/king10ct')
OD<- read.csv("OD2015_Alljobs.csv")
names(kcTract)
##extract the attribute data of instrest, in this case, it is the percentage of "Number of jobs of workers age 29 or younger" and the "Total Number of jobs", SA01/S000
SA01 <- OD$SA01
S000 <- OD$S000
LQ <- function(SA01, S000){
sdp <- SA01/S000
dp <- sum(SA01) / sum(S000)
sdp/dp
}
r <- raster(ncols = 1, nrow=191872)
kc_LQ <- data.frame(OD$wt, LQ(SA01, S000))
colnames(kc_LQ) <- c("wt", "kc_LQ")
brks<-c(0.5,1,1.5,2,2.5,3,3.5,4,4.5,5)
colours <- brewer.pal(10, "Blues")
kc_LQPlot <- plot(kcTract, col=colours[findInterval(kc_LQ$kc_LQ, brks, all.inside=TRUE)], axes=F)
box()
title(paste("LQ of SA01 and S000"))
legend("topright", legend=leglabs(brks), fill=colours, bty="n", border = "black", title = "Percent of workers <= 29")
##Calculate Location Quotients (Links to an external site.)Links to an external site. for all of your data, and then “zoom in” to look at the location quotients for the subset of tracts selected from your OD data.
library(maptools)
library(RColorBrewer)
library(tmap)
kcTract<- readShapeSpatial('C:/Users/LXB19/Documents/GEOG458/Lab2/kc_shp/king10ct')
OD<- read.csv("OD2015_Alljobs.csv")
names(kcTract)
##extract the attribute data of instrest, in this case, it is the percentage of "Number of jobs of workers age 29 or younger" and the "Total Number of jobs", SA01/S000
SA01 <- OD$SA01
S000 <- OD$S000
LQ <- function(SA01, S000){
sdp <- SA01/S000
dp <- sum(SA01) / sum(S000)
sdp/dp
}
kc_LQ <- data.frame(OD$wt, LQ(SA01, S000))
colnames(kc_LQ) <- c("wt", "kc_LQ")
brks<-c(0.5,1,1.5,2,2.5,3,3.5,4,4.5,5)
colours <- brewer.pal(10, "Blues")
kc_LQPlot <- plot(kcTract, col=colours[findInterval(kc_LQ$kc_LQ, brks, all.inside=TRUE)], axes=F)
box()
title(paste("LQ of SA01 and S000"))
legend("topright", legend=leglabs(brks), fill=colours, bty="n", border = "black", title = "Percent of workers <= 29")
##Calculate Location Quotients (Links to an external site.)Links to an external site. for all of your data, and then “zoom in” to look at the location quotients for the subset of tracts selected from your OD data.
library(maptools)
library(RColorBrewer)
library(tmap)
kcTract<- readShapeSpatial('C:/Users/LXB19/Documents/GEOG458/Lab2/kc_shp/king10ct')
OD<- read.csv("OD2015_Alljobs.csv")
names(kcTract)
##extract the attribute data of instrest, in this case, it is the percentage of "Number of jobs of workers age 29 or younger" and the "Total Number of jobs", SA01/S000
SA01 <- OD$SA01
S000 <- OD$S000
LQ <- function(SA01, S000){
sdp <- SA01/S000
dp <- sum(SA01) / sum(S000)
sdp/dp
}
kc_LQ <- data.frame(OD$wt, LQ(SA01, S000))
colnames(kc_LQ) <- c("wt", "kc_LQ")
brks<-c(0.5,1,1.5,2,2.5,3,3.5,4,4.5,5)
colours <- brewer.pal(10, "Blues")
kc_LQPlot <- plot(kcTract, col=colours[findInterval(kc_LQ$kc_LQ, brks, all.inside=TRUE)], axes=F)
box()
title(paste("LQ of SA01 and S000"))
legend("bottomright", legend=leglabs(brks), fill=colours, bty="n", border = "black", title = "Percent of workers <= 29")
install.packages("raster")
install.packages("maptools")
install.packages("RColorBrewer")
install.packages("tmap")
help("readShapeSpatial")
WAC <- read.csv("wac2015_Alljobs.csv")
sectorjobs_plot <- ggplot(data=WAC,aes(x=rt, y=C000)) + geom_bar() + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
install.packages("tidyverse")
WAC <- read.csv("wac2015_Alljobs.csv")
sectorjobs_plot <- ggplot(data=WAC,aes(x=rt, y=C000)) + geom_bar() + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
## Done by Jody
library(ggplot2)
library(raster)
alljobs_plot <- ggplot(data=OD_worktype_tract,aes(x=ht, y=S000, color=S000)) +geom_point() +xlab("Residence Block") +ylab("Total Number of Jobs") +ggtitle("Residence-Jobs Relation") +theme_bw()
alljobs_plot
ttujobs_plot <- ggplot(data=OD_worktype_tract,aes(x=wt, y=S000, color=S000)) +geom_point() +xlab("Workplace Block") +ylab("Total Number of Jobs") +ggtitle("Workplace-Jobs Relation") +theme_bw()
ttujobs_plot
library(ggplot2)
WAC <- read.csv("wac2015_Alljobs.csv")
sectorjobs_plot <- ggplot(data=WAC,aes(x=rt, y=C000)) + geom_bar() + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
library(ggplot2)
WAC <- read.csv("wac2015_Alljobs.csv")
sectorjobs_plot <- ggplot(data=WAC,aes(x=rt, y=C000)) + geom_bar() + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
WAC <- read.csv("wac2015_Alljobs.csv")
sectorjobs_plot <- ggplot(data=WAC,aes(x=wt, y=C000)) + geom_bar() + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
WAC <- read.csv("wac2015_Alljobs.csv")
sectorjobs_plot <- ggplot(data=WAC,aes(x=wt, y=C000)) + geom_bar(aes(fill=C000)) + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
WAC <- read.csv("wac2015_Alljobs.csv")
sectorjobs_plot <- ggplot(data=WAC,aes(x=wt, y=C000)) + geom_bar(stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
WAC <- read.csv("wac2015_Alljobs.csv")
sectorjobs_plot <- ggplot(data=WAC,aes(x=wt, y=C000)) + geom_bar(width=1,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
WAC <- read.csv("wac2015_Alljobs.csv")
sectorjobs_plot <- ggplot(data=WAC,aes(x=wt, y=C000)) + geom_bar(width=2,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
WAC <- read.csv("wac2015_Alljobs.csv")
jobs <- select("CNS03","CNS05","CNS06","CNS08")
library(ggplot2)
WAC <- read.csv("wac2015_Alljobs.csv")
jobs <- select(WAC,"CNS03","CNS05","CNS06","CNS08")
library(ggplot2)
WAC <- read.csv("wac2015_Alljobs.csv")
jobs <- select(WAC,CNS03,CNS05,CNS06,CNS08)
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
jobs <- select(WAC,CNS03,CNS05,CNS06,CNS08)
sectorjobs_plot <- ggplot(data=WAC,aes(x=wt, y=C000)) + geom_bar(width=2,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
jobs <- select(WAC,CNS03,CNS05,CNS06,CNS08)
sectorjobs_plot <- ggplot(data=WAC,aes(x=wt, y=C000)) + geom_bar(fill=jobs,width=2,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
CNS03 <- WAC %>%
select(CNS03)
CNS03$Type <- rep("Utilities",nrow(CNS03))
CNS05 <- WAC %>%
select(CNS05)
CNS05$Type <- rep("Utilities",nrow(CNS05))
CNS06 <- WAC %>%
select(CNS06)
CNS06$Type <- rep("Utilities",nrow(CNS06))
CNS08 <- WAC %>%
select(CNS08)
CNS08$Type <- rep("Utilities",nrow(CNS08))
jobs <- rbind(CNS03,CNS05,CNS06,CNS08)
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
utilities <- WAC %>%
select(CNS03)
utilities$Type <- rep("Utilities",nrow(utilities))
manufacturing <- WAC %>%
select(CNS05)
manufacturing$Type <- rep("Manufacturing",nrow(manufacturing))
wholesale <- WAC %>%
select(CNS06)
wholesale$Type <- rep("Wholesale Trade",nrow(wholesale))
transware <- WAC %>%
select(CNS08)
transware$Type <- rep("Transportation and Warehousing",nrow(transware))
jobs <- rbind(utilites,manufacturing,wholesale,transware)
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
utilities <- WAC %>%
select(CNS03)
utilities$Type <- rep("Utilities",nrow(utilities))
manufacturing <- WAC %>%
select(CNS05)
manufacturing$Type <- rep("Manufacturing",nrow(manufacturing))
wholesale <- WAC %>%
select(CNS06)
wholesale$Type <- rep("Wholesale Trade",nrow(wholesale))
transware <- WAC %>%
select(CNS08)
transware$Type <- rep("Transportation and Warehousing",nrow(transware))
jobs <- rbind(utilities,manufacturing,wholesale,transware)
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
utilities <- WAC %>%
select(CNS03)
utilities$Type <- rep("Utilities",nrow(utilities))
manufacturing <- WAC %>%
select(CNS05)
manufacturing$Type <- rep("Manufacturing",nrow(manufacturing))
wholesale <- WAC %>%
select(CNS06)
wholesale$Type <- rep("Wholesale Trade",nrow(wholesale))
transware <- WAC %>%
select(CNS08)
transware$Type <- rep("Transportation and Warehousing",nrow(transware))
jobs <- data.frame(utilities,manufacturing,wholesale,transware)
sectorjobs_plot <- ggplot(data=WAC,aes(x=wt, y=C000)) + geom_bar(fill=jobs,width=2,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
utilities <- WAC %>%
select(CNS03)
utilities$Type <- rep("Utilities",nrow(utilities))
manufacturing <- WAC %>%
select(CNS05)
manufacturing$Type <- rep("Manufacturing",nrow(manufacturing))
wholesale <- WAC %>%
select(CNS06)
wholesale$Type <- rep("Wholesale Trade",nrow(wholesale))
transware <- WAC %>%
select(CNS08)
transware$Type <- rep("Transportation and Warehousing",nrow(transware))
jobs <- rbind.data.frame(utilities,manufacturing,wholesale,transware)
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
utilities <- WAC %>%
select(CNS03) %>%
rename(CNS03=njobs)
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
utilities <- WAC %>%
select(CNS03) %>%
rename(CNS03="njobs")
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
utilities <- WAC %>%
select(CNS03) %>%
rename(njobs = CNS03)
utilities$Type <- rep("Utilities",nrow(utilities))
manufacturing <- WAC %>%
select(CNS05) %>%
rename(njobs = CNS05)
manufacturing$Type <- rep("Manufacturing",nrow(manufacturing))
wholesale <- WAC %>%
select(CNS06) %>%
rename(njobs = CNS06)
wholesale$Type <- rep("Wholesale Trade",nrow(wholesale))
transware <- WAC %>%
select(CNS08) %>%
rename(njobs = CNS08)
transware$Type <- rep("Transportation and Warehousing",nrow(transware))
jobs <- rbind(utilities,manufacturing,wholesale,transware)
sectorjobs_plot <- ggplot(data=WAC,aes(x=wt, y=C000)) + geom_bar(fill=jobs,width=2,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
utilities <- WAC %>%
select(wt,CNS03) %>%
rename(njobs = CNS03)
utilities$Type <- rep("Utilities",nrow(utilities))
manufacturing <- WAC %>%
select(wt,CNS05) %>%
rename(njobs = CNS05)
manufacturing$Type <- rep("Manufacturing",nrow(manufacturing))
wholesale <- WAC %>%
select(wt,CNS06) %>%
rename(njobs = CNS06)
wholesale$Type <- rep("Wholesale Trade",nrow(wholesale))
transware <- WAC %>%
select(wt,CNS08) %>%
rename(njobs = CNS08)
transware$Type <- rep("Transportation and Warehousing",nrow(transware))
jobs <- rbind(utilities,manufacturing,wholesale,transware)
sectorjobs_plot <- ggplot(data=jobs,aes(x=wt, y=C000)) + geom_bar(fill=jobs,width=2,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
utilities <- WAC %>%
select(wt,CNS03) %>%
rename(njobs = CNS03)
utilities$Type <- rep("Utilities",nrow(utilities))
manufacturing <- WAC %>%
select(wt,CNS05) %>%
rename(njobs = CNS05)
manufacturing$Type <- rep("Manufacturing",nrow(manufacturing))
wholesale <- WAC %>%
select(wt,CNS06) %>%
rename(njobs = CNS06)
wholesale$Type <- rep("Wholesale Trade",nrow(wholesale))
transware <- WAC %>%
select(wt,CNS08) %>%
rename(njobs = CNS08)
transware$Type <- rep("Transportation and Warehousing",nrow(transware))
jobs <- rbind(utilities,manufacturing,wholesale,transware)
sectorjobs_plot <- ggplot(data=jobs,aes(x=wt, y=njobs, color=Type)) + geom_bar(width=2,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
utilities <- WAC %>%
select(wt,CNS03) %>%
rename(njobs = CNS03)
utilities$Type <- rep("Utilities",nrow(utilities))
manufacturing <- WAC %>%
select(wt,CNS05) %>%
rename(njobs = CNS05)
manufacturing$Type <- rep("Manufacturing",nrow(manufacturing))
wholesale <- WAC %>%
select(wt,CNS06) %>%
rename(njobs = CNS06)
wholesale$Type <- rep("Wholesale Trade",nrow(wholesale))
transware <- WAC %>%
select(wt,CNS08) %>%
rename(njobs = CNS08)
transware$Type <- rep("Transportation and Warehousing",nrow(transware))
jobs <- rbind(utilities,manufacturing,wholesale,transware)
sectorjobs_plot <- ggplot(data=jobs,aes(x=wt, y=njobs, fill=Type)) + geom_bar(width=2,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
utilities <- WAC %>%
select(wt,CNS03) %>%
rename(njobs = CNS03)
utilities$Type <- rep("Utilities",nrow(utilities))
manufacturing <- WAC %>%
select(wt,CNS05) %>%
rename(njobs = CNS05)
manufacturing$Type <- rep("Manufacturing",nrow(manufacturing))
wholesale <- WAC %>%
select(wt,CNS06) %>%
rename(njobs = CNS06)
wholesale$Type <- rep("Wholesale Trade",nrow(wholesale))
transware <- WAC %>%
select(wt,CNS08) %>%
rename(njobs = CNS08)
transware$Type <- rep("Transportation and Warehousing",nrow(transware))
jobs <- rbind(utilities,manufacturing,wholesale,transware)
sectorjobs_plot <- ggplot(data=jobs,aes(x=wt, y=njobs, fill=Type)) + geom_bar(width=5,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
total <- WAC %>%
select(wt,C000) %>%
rename(njobs = C000)
total$Type <- rep("Total",nrow(total))
utilities <- WAC %>%
select(wt,CNS03) %>%
rename(njobs = CNS03)
utilities$Type <- rep("Utilities",nrow(utilities))
manufacturing <- WAC %>%
select(wt,CNS05) %>%
rename(njobs = CNS05)
manufacturing$Type <- rep("Manufacturing",nrow(manufacturing))
wholesale <- WAC %>%
select(wt,CNS06) %>%
rename(njobs = CNS06)
wholesale$Type <- rep("Wholesale Trade",nrow(wholesale))
transware <- WAC %>%
select(wt,CNS08) %>%
rename(njobs = CNS08)
transware$Type <- rep("Transportation and Warehousing",nrow(transware))
jobs <- rbind(total,utilities,manufacturing,wholesale,transware)
sectorjobs_plot <- ggplot(data=jobs,aes(x=wt, y=njobs, fill=Type)) + geom_bar(width=5,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
total <- WAC %>%
select(wt,C000) %>%
rename(njobs = C000)
total$Type <- rep("Total",nrow(total))
utilities <- WAC %>%
select(wt,CNS03) %>%
rename(njobs = CNS03)
utilities$Type <- rep("Utilities",nrow(utilities))
manufacturing <- WAC %>%
select(wt,CNS05) %>%
rename(njobs = CNS05)
manufacturing$Type <- rep("Manufacturing",nrow(manufacturing))
wholesale <- WAC %>%
select(wt,CNS06) %>%
rename(njobs = CNS06)
wholesale$Type <- rep("Wholesale Trade",nrow(wholesale))
transware <- WAC %>%
select(wt,CNS08) %>%
rename(njobs = CNS08)
transware$Type <- rep("Transportation and Warehousing",nrow(transware))
jobs <- rbind(utilities,manufacturing,wholesale,transware)
sectorjobs_plot <- ggplot(data=jobs,aes(x=wt, y=njobs, fill=Type)) + geom_bar(width=5,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
total <- WAC %>%
select(wt,C000) %>%
rename(njobs = C000)
total$Type <- rep("Total",nrow(total))
utilities <- WAC %>%
select(wt,CNS03) %>%
rename(njobs = CNS03)
utilities$Type <- rep("Utilities",nrow(utilities))
manufacturing <- WAC %>%
select(wt,CNS05) %>%
rename(njobs = CNS05)
manufacturing$Type <- rep("Manufacturing",nrow(manufacturing))
wholesale <- WAC %>%
select(wt,CNS06) %>%
rename(njobs = CNS06)
wholesale$Type <- rep("Wholesale Trade",nrow(wholesale))
transware <- WAC %>%
select(wt,CNS08) %>%
rename(njobs = CNS08)
transware$Type <- rep("Transportation and Warehousing",nrow(transware))
jobs <- rbind(utilities,manufacturing,wholesale,transware)
sectorjobs_plot <- ggplot(data=jobs,aes(x=wt, y=njobs, fill=Type)) + geom_bar(width=3,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
library(ggplot2)
library(tidyverse)
WAC <- read.csv("wac2015_Alljobs.csv")
total <- WAC %>%
select(wt,C000) %>%
rename(njobs = C000)
total$Type <- rep("Total",nrow(total))
utilities <- WAC %>%
select(wt,CNS03) %>%
rename(njobs = CNS03)
utilities$Type <- rep("Utilities",nrow(utilities))
manufacturing <- WAC %>%
select(wt,CNS05) %>%
rename(njobs = CNS05)
manufacturing$Type <- rep("Manufacturing",nrow(manufacturing))
wholesale <- WAC %>%
select(wt,CNS06) %>%
rename(njobs = CNS06)
wholesale$Type <- rep("Wholesale Trade",nrow(wholesale))
transware <- WAC %>%
select(wt,CNS08) %>%
rename(njobs = CNS08)
transware$Type <- rep("Transportation and Warehousing",nrow(transware))
jobs <- rbind(utilities,manufacturing,wholesale,transware)
sectorjobs_plot <- ggplot(data=jobs,aes(x=wt, y=njobs, fill=Type)) + geom_bar(width=3,stat="identity") + xlab("Workplace Block") + ylab("Number of Jobs") + ggtitle("Proportions of Jobs in Census Blocks")
sectorjobs_plot
install.packages("ggmap")
##Calculate Location Quotients (Links to an external site.)Links to an external site. for all of your data, and then "zoom in" to look at the location quotients for the subset of tracts selected from your OD data.
library(raster)
library(maptools)
library(RColorBrewer)
library(tmap)
kcTract<- readShapeSpatial('kc_shp/king10ct.shp')
OD<- read.csv("OD2015_Alljobs.csv")
names(kcTract)
##extract the attribute data of instrest, in this case, it is the percentage of "Number of jobs of workers age 29 or younger" and the "Total Number of jobs", SA01/S000
SA01 <- OD$SA01
S000 <- OD$S000
LQ <- function(SA01, S000){
sdp <- SA01/S000
dp <- sum(SA01) / sum(S000)
sdp/dp
}
kc_LQ <- data.frame(OD$wt, LQ(SA01, S000))
colnames(kc_LQ) <- c("wt", "kc_LQ")
brks<-c(0.5,1,1.5,2,2.5,3,3.5,4,4.5,5)
colours <- brewer.pal(10, "Blues")
kc_LQPlot <- plot(kcTract, col=colours[findInterval(kc_LQ$kc_LQ, brks, all.inside=TRUE)], axes=F)
box()
title(paste("LQ of SA01 and S000"))
legend("bottomright", legend=leglabs(brks), fill=colours, bty="n", border = "black", title = "Percent of workers <= 29")
